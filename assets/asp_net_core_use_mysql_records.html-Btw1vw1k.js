import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,e as a,o as l}from"./app-BJhRIsgW.js";const i={};function r(n,e){return l(),o("div",null,e[0]||(e[0]=[a(`<h2 id="使用-pomelo-entityframeworkcore-mysql-生成-mysql-数据库" tabindex="-1"><a class="header-anchor" href="#使用-pomelo-entityframeworkcore-mysql-生成-mysql-数据库"><span>使用 Pomelo.EntityFrameworkCore.MySql 生成 MySQL 数据库</span></a></h2><blockquote><p>关于如何使用请查看项目文档即可</p></blockquote><blockquote><p>组件地址：https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql</p></blockquote><h3 id="问题描述" tabindex="-1"><a class="header-anchor" href="#问题描述"><span>问题描述</span></a></h3><p>遇到的是在使用 CodeFirst 生成数据库的字符集编码问题</p><p>执行迁移命令：<code>Add-Migration 版本</code> , <code>Update-Database</code> 生成数据库(若无自动创建)的字符集为 <code>latin1 -- cp1252 West European</code></p><p>此字符集将会在生成查询语句包含中文的时候报如下错误</p><h3 id="异常信息" tabindex="-1"><a class="header-anchor" href="#异常信息"><span>异常信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and (utf8mb4_bin,COERCIBLE) for operation &#39;=&#39;MySql.Data.MySqlClient.MySqlException (0x80004005): Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and (utf8mb4_bin,COERCIBLE) for operation &#39;=&#39; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and (utf8mb4_bin,COERCIBLE) for operation &#39;=&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h3><p>其实组件最开始就建议了设置字符集为：<code>utf8mb4</code>(MySQL5.5.3及以上)，所以遇到上诉错误只需要执行修改数据库字符集命令即可</p><ul><li><p>手动创建字符集为<code>utf8mb4</code>的数据库再执行迁移</p></li><li><p>命令修改字符集：<code>alter database 数据库名称 character set utf8mb4;</code>，但是注意这并不能修改已创建的表的字符集编码；故还是建议手动创建数据库。</p></li></ul><h3 id="相关命令" tabindex="-1"><a class="header-anchor" href="#相关命令"><span>相关命令</span></a></h3><ul><li><p>查看MySQL数据库字符集：<code>show variables like &#39;character_set_database&#39;;</code></p></li><li><p>修改MySQL数据库字符集:<code>alter database 数据库名称 character set utf8mb4;</code></p></li></ul>`,14)]))}const d=t(i,[["render",r],["__file","asp_net_core_use_mysql_records.html.vue"]]),p=JSON.parse('{"path":"/posts/dotnetcore/asp_net_core_use_mysql_records.html","title":"在 ASP.NET Core 中使用 MySql 踩坑记录","lang":"zh-CN","frontmatter":{"title":"在 ASP.NET Core 中使用 MySql 踩坑记录","date":"2018-10-23T23:44:00.000Z","category":["DotNetCore"],"tag":[".net core"],"description":"使用 Pomelo.EntityFrameworkCore.MySql 生成 MySQL 数据库 关于如何使用请查看项目文档即可 组件地址：https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql 问题描述 遇到的是在使用 CodeFirst 生成数据库的字符集编码问题 执...","head":[["meta",{"property":"og:url","content":"https://www.yimo.link/posts/dotnetcore/asp_net_core_use_mysql_records.html"}],["meta",{"property":"og:site_name","content":"易墨网"}],["meta",{"property":"og:title","content":"在 ASP.NET Core 中使用 MySql 踩坑记录"}],["meta",{"property":"og:description","content":"使用 Pomelo.EntityFrameworkCore.MySql 生成 MySQL 数据库 关于如何使用请查看项目文档即可 组件地址：https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql 问题描述 遇到的是在使用 CodeFirst 生成数据库的字符集编码问题 执..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-28T11:15:42.000Z"}],["meta",{"property":"article:tag","content":".net core"}],["meta",{"property":"article:published_time","content":"2018-10-23T23:44:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-28T11:15:42.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在 ASP.NET Core 中使用 MySql 踩坑记录\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-10-23T23:44:00.000Z\\",\\"dateModified\\":\\"2024-10-28T11:15:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"易墨\\",\\"url\\":\\"https://www.yimo.link\\"}]}"]]},"headers":[{"level":2,"title":"使用 Pomelo.EntityFrameworkCore.MySql 生成 MySQL 数据库","slug":"使用-pomelo-entityframeworkcore-mysql-生成-mysql-数据库","link":"#使用-pomelo-entityframeworkcore-mysql-生成-mysql-数据库","children":[{"level":3,"title":"问题描述","slug":"问题描述","link":"#问题描述","children":[]},{"level":3,"title":"异常信息","slug":"异常信息","link":"#异常信息","children":[]},{"level":3,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]},{"level":3,"title":"相关命令","slug":"相关命令","link":"#相关命令","children":[]}]}],"git":{"createdTime":1730114142000,"updatedTime":1730114142000,"contributors":[{"name":"yimo","email":"yimo@wikiglobal.com","commits":1}]},"readingTime":{"minutes":1.11,"words":332},"filePathRelative":"posts/dotnetcore/asp_net_core_use_mysql_records.md","localizedDate":"2018年10月23日","excerpt":"<h2>使用 Pomelo.EntityFrameworkCore.MySql 生成 MySQL 数据库</h2>\\n<blockquote>\\n<p>关于如何使用请查看项目文档即可</p>\\n</blockquote>\\n<blockquote>\\n<p>组件地址：https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql</p>\\n</blockquote>\\n<h3>问题描述</h3>\\n<p>遇到的是在使用 CodeFirst 生成数据库的字符集编码问题</p>\\n<p>执行迁移命令：<code>Add-Migration 版本</code> , <code>Update-Database</code> 生成数据库(若无自动创建)的字符集为 <code>latin1 -- cp1252 West European</code></p>","autoDesc":true}');export{d as comp,p as data};
